

## 821 字符的最短距离

![image-20210210173511166](/Users/yummy/web开发/文章笔记/typora-notes/Typora笔记/算法/LeetCode（Lucifer）/基础篇/数组.assets/image-20210210173511166.png)

![image-20210210201905655](/Users/yummy/web开发/文章笔记/typora-notes/Typora笔记/算法/LeetCode（Lucifer）/基础篇/数组.assets/image-20210210201905655.png)

中心拓展法

```JS
var shortestToChar = function(s, c) {
    let result = Array(s.length).fill(0);
    for (let i = 0; i < s.length; i++) {

        if (s[i] === c) continue;

        let l = i,r = i,min = Infinity;

        while (l >= 0) {
            if (s[l] === c) {
                min = Math.min(min,i - l)
                break;
            }
            l--;
        }

        while (r < s.length) {
            if (s[r] === c) {
                min = Math.min(min,r - i);
                break;
            }
            r++;
        }

        result[i] = min;
    }
    return result;
};
```

```JS
import java.util.ArrayList; // 引入 ArrayList 类

1.创建对象
    ArrayList<E> objectName = new ArrayList()
  	// E: 泛型数据类型，用于设置 objectName 的数据类型，只能为引用数据类型。
  	ArrayList<String> arr = new ArrayList();
2.添加元素
  arr.add([指定要插入的位置,]"google")	//	默认插入最后一位
3.访问元素
  arr.get(1)	// 访问索引为 1 的数组元素
4.修改元素
  arr.set(2,"google")		// 第一个参数为索引位置，第二个为要修改的值
5.删除元素
  arr.remove(3)		 // 删除第四个元素
6.计算大小
  arr.size()
```

```Java
**基本操作**
```

以元素为中心，两边添加两个指针，左右移动来探索

**滑动窗口**

```JS
var shortestToChar = function(s, c) {
    let res = Array(s.length);
    let l = s[0] === c ? 0 : Infinity,
        r = s.indexOf(c,1);
    for (let i = 0; i < s.length; i++) {

        res[i] = Math.min(Math.abs(i - l),Math.abs(r - i));

        if (i === r) {
            l = r;
            r = s.indexOf(c,r + 1);
        }
    }
    return res;
};
```

画出两特殊情况

- 开头字符为 目标字符
- 开头不为 目标字符
- 结尾字符为 目标字符
- 结尾不为 目标字符

**注意到在什么时候滑动窗口（谁等于谁时），怎么滑动窗口（变换两个指针的值）**

**空间换时间**

```JS
var shortestToChar = function(s, c) {
    // 此字符的所有索引
    var iArr = [];
    for (var i = 0; i < s.length; i++) {
        if (s[i] === c) iArr.push(i);
    }

    // 结果数组
    var res = Array(s.length).fill(Infinity);

    for (var j = 0; j < s.length; j++) {
        // 目标字符是 0
        if (s[j] === c) {
            res[j] = 0;
            continue;
        }

        for (const cIndex of iArr) {
            const dis = Math.abs(cIndex - j)

            if (dis >= res[j]) break;

            res[j] = dis;
        }
    }
    return res;
};
```

将所有 目标元素 的索引用数组存储起来，每个元素遍历和这个数组里的元素比较

